<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hijri Calendar</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

    <!-- FullCalendar CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/main.min.css">
</head>

<body>

    <section>
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-11">
                            <div id="calendar" style="height: 600px;"></div>
                        </div>
                        <div class="col-lg-1 side-menu-col">
                            <div class="side-menu">
                                <div class="nav-menu-link">
                                    <a href="index.html">
                                        <img src="nav-icon/house.png" alt="">
                                        <br>
                                        <span>Home</span>
                                    </a>
                                </div>
                                <div class="nav-menu-link">
                                    <a href="hijr-calender.html">
                                        <img src="nav-icon/hijr-calender.png" alt="">
                                        <br>
                                        <span>Hijr</span>
                                    </a>
                                </div>
                                <div class="nav-menu-link">
                                    <a href="ramazan.html">
                                        <img src="nav-icon/ramzan.png" alt="">
                                        <br>
                                        <span>Ramzan</span>
                                    </a>
                                </div>
                                <div class="nav-menu-link">
                                    <a href="dua.html">
                                        <img src="nav-icon/dua.png" alt="">
                                        <br>
                                        <span>Dua's</span>
                                    </a>
                                </div>
                                <div class="nav-menu-link">
                                    <a href="blog.html">
                                        <img src="nav-icon/blogs.png" alt="">
                                        <br>
                                        <span>Blogs</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FullCalendar JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/6.1.15/index.global.min.js"
        integrity="sha512-PneTXNl1XRcU6n5B1PGTDe3rBXY04Ht+Eddn/NESwvyc+uV903kiyuXCWgL/OfSUgnr8HLSGqotxe6L8/fOvwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Moment.js & Moment Hijri -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment-hijri@2.1.2/moment-hijri.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Debugging: Check if moment-hijri is loaded
            if (typeof moment().iYear !== 'function') {
                console.error("moment-hijri plugin is not loaded correctly.");
                return;
            }

            var calendarEl = document.getElementById('calendar');

            if (!calendarEl) {
                console.error("Calendar element not found.");
                return;
            }

            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                locale: 'en',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                events: [
                    {
                        title: 'Event 1 - ' + moment('2024-03-05', 'YYYY-MM-DD').format('iYYYY/iMM/iDD'),
                        start: '2024-03-05'
                    },
                    {
                        title: 'Event 2 - ' + moment('2024-03-10', 'YYYY-MM-DD').format('iYYYY/iMM/iDD'),
                        start: '2024-03-10'
                    }
                ],
                datesSet: function (info) {
                    let gregorianMonth = moment(info.view.currentStart).format('MMMM'); // Gregorian Month (e.g., March)
                    let hijriMonth = moment(info.view.currentStart).format('iMMMM iYYYY'); // Hijri Month and Year (e.g., Ramadan 1445)

                    let titleElement = document.querySelector('.fc-toolbar-title');

                    if (titleElement) {
                        titleElement.innerText = `${gregorianMonth} / ${hijriMonth}`; // Set both Gregorian and Hijri months in the title
                    }

                    console.log("Gregorian Month:", gregorianMonth, "Hijri Month:", hijriMonth); // Debugging: Check months
                },
                dayCellContent: function (arg) {
                    var gregorianDate = moment(arg.date).format('D'); // Gregorian Day
                    var hijriDate = moment(arg.date).format('iD'); // Hijri Day and Month

                    console.log("Gregorian Date:", gregorianDate, "Hijri Date:", hijriDate); // Debugging: Check dates

                    return {
                        html: `<div>${gregorianDate}<br>${hijriDate}</div>` // Display both Gregorian and Hijri dates
                    };
                }
            });

            calendar.render();
        });
    </script> -->

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Debugging: Check if moment-hijri is loaded
            if (typeof moment().iYear !== 'function') {
                console.error("moment-hijri plugin is not loaded correctly.");
                return;
            }

            var calendarEl = document.getElementById('calendar');

            if (!calendarEl) {
                console.error("Calendar element not found.");
                return;
            }

            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                locale: 'en',
                height: 695,
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                events: [
                    {
                        title: 'Event 1 - ' + moment('2024-03-05', 'YYYY-MM-DD').subtract(0, 'day').format('iYYYY/iMM/iDD'),
                        start: '2024-03-05'
                    },
                    {
                        title: 'Event 2 - ' + moment('2024-03-10', 'YYYY-MM-DD').subtract(0, 'day').format('iYYYY/iMM/iDD'),
                        start: '2024-03-10'
                    }
                ],
                datesSet: function (info) {
                    let gregorianMonth = moment(info.view.currentStart).format('MMMM'); // Gregorian Month (e.g., March)
                    let hijriMonth = moment(info.view.currentStart).subtract(0, 'day').format('iMMMM iYYYY'); // Adjusted Hijri Month and Year

                    let titleElement = document.querySelector('.fc-toolbar-title');

                    if (titleElement) {
                        titleElement.innerText = `${gregorianMonth} / ${hijriMonth}`; // Show both Gregorian & adjusted Hijri months
                    }

                    console.log("Gregorian Month:", gregorianMonth, "Hijri Month:", hijriMonth); // Debugging: Check months
                },
                dayCellContent: function (arg) {
                    var gregorianDate = moment(arg.date).format('D'); // Gregorian Day
                    var hijriDate = moment(arg.date).subtract(1, 'day').format('iD'); // Adjusted Hijri Day

                    console.log("Gregorian Date:", gregorianDate, "Hijri Date:", hijriDate); // Debugging: Check dates

                    return {
                        html: `<div>${gregorianDate}<br>${hijriDate}</div>` // Display both Gregorian and adjusted Hijri dates
                    };
                }
            });

            calendar.render();
        });
    </script>


</body>

</html>